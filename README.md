# –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ NetServDB !

Network Service with Database - —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-—Å–µ—Ä–≤–∏—Å, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–µ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP POST –∑–∞–ø—Ä–æ—Å–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Redis –∏ PostgreSQL –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä—É—á–∫–∏

1. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ Redis**
    
    - –ú–µ—Ç–æ–¥: POST
    - –ü—É—Ç—å: `localhost:3000/redis/incr` (–µ—Å–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–µ –±—ã–ª —É–∫–∞–∑–∞–Ω –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö `-host` –∏ `-port`)
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NetServDB/controllers.RedisIncr`
    - –û–ø–∏—Å–∞–Ω–∏–µ: –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ Redis –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç value
      
2. **HMAC-SHA512 –ü–æ–¥–ø–∏—Å—å**
    
    - –ú–µ—Ç–æ–¥: POST
    - –ü—É—Ç—å: `localhost:3000/sign/hmacsha512`
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NetServDB/controllers.SignHMACSHA512`
    - –û–ø–∏—Å–∞–Ω–∏–µ: –≤—ã—á–∏—Å–ª—è–µ—Ç HMAC-SHA512 –ø–æ–¥–ø–∏—Å—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–µ –≤ –≤–∏–¥–µ hex —Å—Ç—Ä–æ–∫–∏
      
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ PostgreSQL**
    
    - –ú–µ—Ç–æ–¥: POST
    - –ü—É—Ç—å: `localhost:3000/postgres/users`
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NetServDB/controllers.AddUser`
    - –û–ø–∏—Å–∞–Ω–∏–µ: –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç id
    
4. **–£–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ –≤ Redis** `—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Ä—É—á–∫–∞ –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è basic auth`
   
    - –ú–µ—Ç–æ–¥: DELETE
    - –ü—É—Ç—å: `localhost:3000/redis/del` (–µ—Å–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –Ω–µ –±—ã–ª —É–∫–∞–∑–∞–Ω –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö `-host` –∏ `-port`)
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NetServDB/controllers.RedisRefresh`
    - –û–ø–∏—Å–∞–Ω–∏–µ: —É–¥–∞–ª—è–µ—Ç –∫–ª—é—á –∏–∑ Redis
      
6. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL** `—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Ä—É—á–∫–∞ –¥–ª—è –∫–æ—Ç–æ—Ä–æ–π –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è basic auth`
    
    - –ú–µ—Ç–æ–¥: DELETE
    - –ü—É—Ç—å: `localhost:3000/postgres/users`
    - –û–±—Ä–∞–±–æ—Ç—á–∏–∫: `NetServDB/controllers.TableRefresh`
    - –û–ø–∏—Å–∞–Ω–∏–µ: –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –≤ PostgreSQL

## üí° –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π:

### –õ–æ–∫–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

- [**Gin**](https://github.com/gin-gonic/gin) - —Ä–æ—É—Ç–µ—Ä
- [**logrus**](https://github.com/sirupsen/logrus) - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è; *–≤—Å–µ –ª–æ–≥–∏ –ø–∏—à—É—Ç—è –≤ logs/all.log* 
- [**testify**](https://github.com/stretchr/testify) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏—è –ø—Ä–æ–µ–∫—Ç–∞ —Ç–µ—Å—Ç–∞–º–∏
- [**godotenv**](https://github.com/joho/godotenv) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [**Postgresql**](https://www.postgresql.org/) - –°–£–ë–î
- [**Redis**](https://redis.io/) - –ë–î

### –ó–∞–¥–µ–ø–ª–æ–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

 - [**Selectel**](https://selectel.ru/) - –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

## –ü–µ—Ä–µ—á–∏—Å–ª—é –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä—É—á–∫–∏ –æ–±–ª–∞—á–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞:
- http://94.26.237.90:3000/redis/incr `POST`
- http://94.26.237.90:3000/sign/hmacsha512 `POST`
- http://94.26.237.90:3000/postgres/users `POST`
- http://94.26.237.90:3000/redis/del `DELETE`
- http://94.26.237.90:3000/postgres/users `DELETE`
   


–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø—É—â–µ–Ω—ã –≤ `Docker` –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã `Docker Compose`. –î–µ–ø–ª–æ–π —Ä—É–∫–∞–º–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å `Selectel`.

![](https://raw.githubusercontent.com/faringet/NetServDB/master/screenshots/cloud.jpeg)


## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

- –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
`git clone` https://github.com/faringet/NetServDB.git

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞
cd NetServDB

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é go mod
`go mod download`

- –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
`go build`

- –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `./NetServDB -host <host> -port <port>` (Redis `-host` –∏ `-port`)

### –ò–ª–∏ –∂–µ –º–æ–∂–Ω–æ, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä, –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ api —á–µ—Ä–µ–∑ Postman:

![](https://raw.githubusercontent.com/faringet/NetServDB/master/screenshots/postman.jpeg)
